<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE log4j:configuration SYSTEM "log4j.dtd">

<!-- ===================================================================== -->
<!--  Log4j Configuration                                                  -->
<!-- ===================================================================== -->

<!--
   | For more configuration infromation and examples see the Jakarta Log4j
   | website: http://jakarta.apache.org/log4j
 -->

<log4j:configuration xmlns:log4j="http://jakarta.apache.org/log4j/" debug="false">

  <!-- ============================== -->
  <!-- Append messages to the console -->
  <!-- ============================== -->

    <appender name="CONSOLE" class="org.apache.log4j.ConsoleAppender">
        <param name="Target" value="System.out"/>
        <param name="Threshold" value="INFO"/>
        <layout class="org.apache.log4j.PatternLayout">
            <param name="ConversionPattern" value="%d %-5r %-5p [%c] (%t:%x) %m%n"/>
        </layout>
    </appender>
  
  
    <appender name="PHRS_FILE_APPENDER" class="org.jboss.logging.appender.DailyRollingFileAppender">
        <errorHandler class="org.jboss.logging.util.OnlyOnceErrorHandler"/>
        <param name="File" value="/tmp/phrs.security.log"/>
        <param name="Append" value="false"/>
      <!-- In AS 5.0.x the server log threshold was set by a system                                                                                                                                       
           property. In 5.1 and later we are instead using the system                                                                                                                                     
           property to set the priority on the root logger (see <root/> below)                                                                                                                            
      <param name="Threshold" value="${jboss.server.log.threshold}"/>                                                                                                                                     
      -->                                                                                                                                                                                                 
                                                                                                                                                                                                          
      <!-- Rollover at midnight each day -->                                                                                                                                                              
        <param name="DatePattern" value="'.'yyyy-MM-dd"/>
                                                                                                                                                                                                          
      <!-- Rollover at the top of each hour                                                                                                                                                               
      <param name="DatePattern" value="'.'yyyy-MM-dd-HH"/>                                                                                                                                                
      -->                                                                                                                                                                                                 
                                                                                                                                                                                                          
        <layout class="org.apache.log4j.PatternLayout">
         <!-- The default pattern: Date Priority [Category] (Thread) Message\n -->                                                                                                                        
            <param name="ConversionPattern" value="%d %-5p [%c] (%t) %m%n"/>
                                                                                                                                                                                                          
         <!-- The full pattern: Date MS Priority [Category] (Thread:NDC) Message\n                                                                                                                        
         <param name="ConversionPattern" value="%d %-5r %-5p [%c] (%t:%x) %m%n"/>                                                                                                                         
          -->                                                                                                                                                                                             
        </layout>
    </appender>


  <!-- ================ -->
  <!-- Limit categories -->
  <!-- ================ -->
  
    <category name="at.srfg.kmt.ehealth.phrs.security">
        <appender-ref ref="PHRS_FILE_APPENDER"/>
    </category>
  
  <!-- ======================= -->
  <!-- Setup the Root category -->
  <!-- ======================= -->

    <root>
        <appender-ref ref="CONSOLE"/>
    </root>
  
</log4j:configuration>
